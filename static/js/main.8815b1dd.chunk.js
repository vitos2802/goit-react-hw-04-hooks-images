(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{11:function(e,t,c){e.exports={Container:"Container_Container__3iy5m"}},17:function(e,t,c){},41:function(e,t,c){"use strict";c.r(t);var n=c(1),a=c(0),r=c.n(a),o=c(4),i=c.n(o),s=(c(17),c(9)),u=c(3),l=c(5),j=(c(18),{fetchImage:function(e,t){return fetch("https://pixabay.com/api/?q=".concat(e,"&page=").concat(t,"&key=").concat("18770359-69995c75016210012c9ceb955","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("\u041d\u0435\u0442 \u043a\u0430\u0440\u0442\u0438\u043d\u043a\u0438 \u0441 \u043d\u0430\u0437\u0432\u0430\u043d\u0438\u0435\u043c ".concat(e)))}))}}),b=function(e){var t=e.onSubmit,c=Object(a.useState)(""),r=Object(u.a)(c,2),o=r[0],i=r[1];return Object(n.jsx)("header",{className:"Searchbar",children:Object(n.jsxs)("form",{className:"SearchForm",onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),i("")):l.b.error("Wow so easy !")},children:[Object(n.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(n.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(n.jsx)("input",{className:"SearchForm-input",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})})},m=function(e){var t=e.webformatURL,c=e.data,a=e.onClick;return Object(n.jsx)("li",{className:"ImageGalleryItem",children:Object(n.jsx)("img",{src:t,alt:"","data-largeimageurl":c,onClick:function(e){return a(e)},className:"ImageGalleryItem-image"})})},h=function(e){var t=e.images,c=e.onClick;return Object(n.jsx)("ul",{className:"ImageGallery",children:t.map((function(e){var t=e.id,a=e.webformatURL,r=e.largeImageURL;return Object(n.jsx)(m,{webformatURL:a,data:r,onClick:c},t)}))})},d=function(e){var t=e.onClick,c=e.children;return Object(n.jsx)("button",{type:"button",className:"Button",onClick:t,children:c})},f=c(10),O=c.n(f),g=document.querySelector("#modal-root"),p=function(e){var t=e.onClose,c=e.children;Object(a.useEffect)((function(){var e=function(e){"Escape"===e.code&&t()};return window.addEventListener("keydown",e),function(){window.removeEventListener("keydown",e)}}),[t]);return Object(o.createPortal)(Object(n.jsx)("div",{className:"Overlay",onClick:function(e){e.target===e.currentTarget&&t()},children:Object(n.jsx)("div",{className:"Modal",children:c})}),g)},x=c(11),v=c.n(x),S=function(e){var t=e.children;return Object(n.jsx)("div",{className:v.a.Container,children:t})},w=(c(40),function(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),c=t[0],r=t[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),m=i[0],f=i[1],g=Object(a.useState)(1),x=Object(u.a)(g,2),v=x[0],w=x[1],C=Object(a.useState)(!1),y=Object(u.a)(C,2),k=y[0],N=y[1],F=Object(a.useState)(!1),I=Object(u.a)(F,2),L=I[0],E=I[1],_=Object(a.useState)(!1),R=Object(u.a)(_,2),U=R[0],q=R[1],G=Object(a.useState)(""),P=Object(u.a)(G,2),T=P[0],B=P[1],J=Object(a.useState)(null),M=Object(u.a)(J,2),z=M[0],D=M[1];Object(a.useEffect)((function(){c&&j.fetchImage(c,v).then((function(e){var t=e.hits;t.length||l.b.error("\u041f\u043e \u0437\u0430\u043f\u0440\u043e\u0441\u0443 ".concat(c," \u043d\u0438\u0447\u0435\u0433\u043e \u043d\u0435\u0442!")),t.length&&(l.b.success("\u0417\u0430\u043f\u0440\u043e\u0441 \u0432\u044b\u043f\u043e\u043b\u043d\u0435\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e!"),f((function(e){return[].concat(Object(s.a)(e),Object(s.a)(t))})),N(!1),q(!0)),t.length<12&&q(!1),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})})).catch((function(e){return D(e)}))}),[c,v]);var H=function(){E(!L)};return Object(n.jsxs)(S,{children:[L&&Object(n.jsx)(p,{onClose:H,children:Object(n.jsx)("img",{src:T.largeimageurl,alt:""})}),Object(n.jsx)(b,{onSubmit:function(e){r(e),f([]),w(1),q(!1),D(z)}}),m&&Object(n.jsx)(h,{images:m,onClick:function(e){var t=e.target;B(t.dataset),H()}}),U&&Object(n.jsx)(d,{onClick:function(){N(!0),w((function(e){return e+1}))},children:k?Object(n.jsx)(O.a,{type:"Puff",color:"#00BFFF",height:10,width:10}):"Load more..."}),Object(n.jsx)(l.a,{})]})});i.a.render(Object(n.jsx)(r.a.StrictMode,{children:Object(n.jsx)(w,{})}),document.querySelector("#root"))}},[[41,1,2]]]);
//# sourceMappingURL=main.8815b1dd.chunk.js.map